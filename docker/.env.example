# Redis Rust - Drop-in Replacement Configuration
#
# Copy to .env and modify as needed

# ===================
# Server Configuration
# ===================

# Server port (Redis default: 6379)
REDIS_PORT=6379

# Store type: memory, localfs, or s3
REDIS_STORE_TYPE=localfs

# LocalFs data path
REDIS_DATA_PATH=/data

# ===================
# S3 Configuration (when REDIS_STORE_TYPE=s3)
# ===================

REDIS_S3_BUCKET=redis-data
REDIS_S3_PREFIX=redis-stream
REDIS_S3_ENDPOINT=http://minio:9000

# AWS/MinIO credentials
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_REGION=us-east-1

# ===================
# Shadow Testing Configuration
# ===================

# Proxy listen port
SHADOW_LISTEN_PORT=6381

# Primary Redis (responses returned to client)
SHADOW_PRIMARY=localhost:6379

# Secondary Redis (shadow, responses compared)
SHADOW_SECONDARY=localhost:6380

# Log response mismatches
SHADOW_LOG_MISMATCHES=true

# Return error to client on mismatch
SHADOW_FAIL_ON_MISMATCH=false
